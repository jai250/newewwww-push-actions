# pass data betwwen jobs in GitHub Actions

name: pass data between jobs demo
on: [ workflow_dispatch, push ]
jobs:
   job1:
      runs-on: ubuntu-latest
      outputs:
         Data1: ${{ steps.step-id-1.outputs.message1 }}
         Data2: ${{ steps.step-id-2.outputs.message2 }}
      steps:
        - name: step-1
          id: step-id-1
          run: |
             echo "message1=Hello from Job 1" >> $GITHUB_OUTPUT

        - name: step-2
          id: step-id-2
          run: |
             echo "message2=Hello from Job 2" >> $GITHUB_OUTPUT

   job2:
     runs-on: ubuntu-latest
     needs: job1
     steps:
      - name: print received values
        run: |
          echo "Received from job1 data1: ${{ needs.job1.outputs.Data1 }}"
          echo "Received from job1 data2: ${{ needs.job1.outputs.Data2 }}"  
          if [ -Z "${{ needs.job1.outputs.Data1 }}" ] || [ -z "${{ needs.job1.outputs.Data2 }}" ]; then
             echo "One of the received values is empty."
             exit 1
          fi


